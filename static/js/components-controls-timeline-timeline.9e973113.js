(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"./src/replay/components/controls/TimeDisplay/TimeDisplay.js":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js"),o=n("./src/replay/components/common.js");const r=(e,t,n=!1)=>Object(o.c)(null==e?0:Math[n?"min":"max"](0,e),t),i=({position:e,duration:t,absolutePosition:n,playMode:i,liveDisplayMode:s="clock-time",negativeMark:l,label:c,positionLabel:p,durationLabel:m,clockTimeLabel:d,classNamePrefix:u=o.a})=>{return"ondemand"===i?a.createElement("div",{className:Object(o.k)(u,"time-display"),title:c},a.createElement("span",{className:Object(o.k)(u,"time-display-position"),title:p},r(e,l)),a.createElement("span",{className:Object(o.k)(u,"time-display-duration"),title:m},r(t,l))):("live-offset"!==s||"livedvr"!==i)&&((h=n)instanceof Date&&!isNaN(h.getTime())&&h.getTime()>15147612e5)?a.createElement("div",{className:Object(o.k)(u,"time-display","time-display-no-duration"),title:c},a.createElement("span",{className:Object(o.k)(u,"time-display-clock-time"),title:p},Object(o.b)(n))):a.createElement("div",{className:Object(o.k)(u,"time-display"),title:c},a.createElement("span",{className:Object(o.k)(u,"time-display-position"),title:p},r((e||t||0)-(t||0),l,!0)),"livedvr"===i&&a.createElement("span",{className:Object(o.k)(u,"time-display-duration"),title:m},r(t,l)));var h};i.streamStateKeysForObservation=["position","duration","absolutePosition","playMode"],i.displayName="TimeDisplay",t.a=i,i.__docgenInfo={description:"",methods:[],displayName:"TimeDisplay",props:{liveDisplayMode:{defaultValue:{value:"'clock-time'",computed:!1},required:!1,flowType:{name:"union",raw:"'clock-time' | 'live-offset'",elements:[{name:"literal",value:"'clock-time'"},{name:"literal",value:"'live-offset'"}]},description:"When set to 'live-offset', DVR times will be displayed as offsets from the live edge. Default is 'clock-time'."},classNamePrefix:{defaultValue:{value:"defaultClassNamePrefix",computed:!0},required:!1},position:{required:!1,flowType:{name:"number"},description:"\u21d8\ufe0e The relative playback position, used for on demand position and timeshift offset display."},duration:{required:!1,flowType:{name:"number"},description:"\u21d8\ufe0e The duration of the stream, used for on demand position and timeshift offset display."},absolutePosition:{required:!1,flowType:{name:"Date",nullable:!0},description:"\u21d8\ufe0e The clock time, used for live streams and DVR streams when liveDisplayMode is set to 'live-offset'."},playMode:{required:!1,flowType:{name:"PlayMode"},description:"\u21d8\ufe0e Play mode is used to decide what times to display."},negativeMark:{required:!1,flowType:{name:"string"},description:""},positionLabel:{required:!1,flowType:{name:"string"},description:""},durationLabel:{required:!1,flowType:{name:"string"},description:""},clockTimeLabel:{required:!1,flowType:{name:"string"},description:""}}}},"./src/replay/components/controls/Timeline/Timeline.mdx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var a=n("./node_modules/react/index.js"),o=n.n(a),r=n("./node_modules/@mdx-js/tag/dist/index.js"),i=n("./node_modules/docz/dist/index.m.js"),s=n("./src/replay/components/controls/Timeline/Timeline.js"),l=n("./src/replay/components/controls/TimeDisplay/TimeDisplay.js"),c=n("./src/replay/components/controls/TimelineInformation/TimelineInformation.js"),p=n("./src/replay/docs/mdx-helpers/ShowCase.js"),m=n("./src/replay/docs/mdx-helpers/SimpleTable.js"),d=n("./src/replay/docs/props-footnote.md");function u(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class h extends o.a.Component{constructor(e){super(e),this.layout=null}render(){const e=this.props,t=e.components,n=u(e,["components"]);return o.a.createElement(r.MDXTag,{name:"wrapper",components:t},o.a.createElement(r.MDXTag,{name:"h1",components:t,props:{id:"timeline-control"}},"Timeline control"),o.a.createElement(r.MDXTag,{name:"p",components:t},"A ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"<Slider/>")," displaying the playback progress from start to end. It can be used for seeking in the stream."),o.a.createElement(r.MDXTag,{name:"h2",components:t,props:{id:"summary"}},"Summary"),o.a.createElement(r.MDXTag,{name:"p",components:t},"Technically, it presenting the seekable range of the open stream, and changing the handle position by click or dragging, changes the playback position (i.e. seeks). It operates both on live DVR streams and on demand streams. Regardless of the stream type, the video streamer exposes stream state properties for ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"position")," and ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"duration"),". Correspondingly, the ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"<Timeline/>")," component has two props with the same names. The rule for those values is ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"0")," \u2264 ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"position")," \u2264 ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"duration"),". I.e. the position is relative to the first available position in the seekable range, and the value will not exceed the duration value."),o.a.createElement(r.MDXTag,{name:"p",components:t},"When playing live streams with a sliding DVR window, the relative position and duration will stay constant, and the slider handle will be positioned at the same location. If playing at the live edge, the handle will stay at the right end of the slider, also for live stream events where the DVR window expands, i.e. duration increases."),o.a.createElement(r.MDXTag,{name:"p",components:t},"When dragging/clicking the slider, ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"setProperties({ position value })")," will be called with the value corresponding to the relative position according to the rule above."),o.a.createElement(r.MDXTag,{name:"p",components:t},"The component accepts children for putting more content on the timeline. The slider handle will typically stay on top. For now, ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"<TimelineInformation/>")," is such relevant extra content. Chapters and markers might be added later."),o.a.createElement(r.MDXTag,{name:"h2",components:t,props:{id:"example"}},"Example"),o.a.createElement(i.Playground,{__codesandbox:"undefined",__position:0,__code:'<ShowCase\n  height="20px"\n  render={({ setProperties, position }) => {\n    const duration = 333\n    return (\n      <>\n        <Timeline\n          position={position}\n          duration={duration}\n          setProperties={setProperties}\n        >\n          <TimelineInformation playMode="ondemand" duration={duration} />\n        </Timeline>\n        <TimeDisplay\n          position={position}\n          duration={duration}\n          playMode="ondemand"\n        />\n      </>\n    )\n  }}\n/>',__scope:{props:this?this.props:n,Timeline:s.a,TimeDisplay:l.a,TimelineInformation:c.a,ShowCase:p.a,SimpleTable:m.a,Footnote:d.a}},o.a.createElement(p.a,{height:"20px",render:({setProperties:e,position:t})=>o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,{position:t,duration:333,setProperties:e},o.a.createElement(c.a,{playMode:"ondemand",duration:333})),o.a.createElement(l.a,{position:t,duration:333,playMode:"ondemand"}))})),o.a.createElement(r.MDXTag,{name:"p",components:t},"The example includes also ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"<TimeDisplay/>")," and ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"<TimelineInformation/>"),", in order to illustrate the ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"position")," and ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"duration")," values and changes."),o.a.createElement(r.MDXTag,{name:"h2",components:t,props:{id:"props"}},"Props"),o.a.createElement(i.PropsTable,{of:s.a}),o.a.createElement(d.a,null),o.a.createElement(r.MDXTag,{name:"h2",components:t,props:{id:"component-dom-with-class-names"}},"Component DOM with class names"),o.a.createElement(r.MDXTag,{name:"p",components:t},"Please read the ",o.a.createElement(r.MDXTag,{name:"a",components:t,parentName:"p",props:{href:"/custom-replay/skins-styles"}},"general principles")," for Replay class names and styling."),o.a.createElement(m.a,{rows:[{Element:"div","Class name":"timeline","Generic class name":"slider",States:"dragging",Parent:""},{Element:"div","Class name":"timeline-track","Generic class name":"slider-track",States:"",Parent:".timeline"},{Element:"div","Class name":"timeline-handle","Generic class name":"slider-handle",States:"",Parent:".timeline"}]}),o.a.createElement(r.MDXTag,{name:"h2",components:t,props:{id:"styling-requirements"}},"Styling requirements"),o.a.createElement(r.MDXTag,{name:"p",components:t},"The styling of the timeline slider needs to follow some rules in order to get sensible responses from user interactions:"),o.a.createElement(r.MDXTag,{name:"ul",components:t},o.a.createElement(r.MDXTag,{name:"li",components:t,parentName:"ul"},"The draggable or clickable area will be the size of the track element, ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:t,parentName:"li"},".timeline-track"),". Remember how margin, borders, padding, box-sizing, etc. affects the size."),o.a.createElement(r.MDXTag,{name:"li",components:t,parentName:"ul"},"The ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:t,parentName:"li"},".timeline-handle")," positioning (between 0 and 100 percent from left or bottom) should align with the track size and placement."),o.a.createElement(r.MDXTag,{name:"li",components:t,parentName:"ul"},"The styling needs to take into account the size of the handle itself. The component will not subtract the size of the component in its positioning and value calculations."),o.a.createElement(r.MDXTag,{name:"li",components:t,parentName:"ul"},"The handle should ideally be shifted by half its width to the left for horizontal sliders, or half its height down for vertical sliders. It is the center coordinate that should count.")))}}h.__docgenInfo={description:"",methods:[],displayName:"MDXContent"}},"./src/replay/docs/mdx-helpers/ShowCase.js":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js");n("./src/replay/replay-default.css");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class i extends a.Component{constructor(e){super(e),r(this,"setProperties",e=>this.setState((e=>{const t={};return Object.keys(e).forEach(n=>{let a=e[n];switch(n){case"selectedAudioTrack":t.currentAudioTrack=a;break;case"selectedTextTrack":t.currentTextTrack=a;break;default:t[n]=a}}),t})(e))),this.state={}}render(){const e=this.setProperties,t=this.state,n=this.props,i=n.render,s=n.height,l=s?{width:"100%",height:s}:{width:"100%"};return a.createElement("div",null,a.createElement("div",{style:l}),a.createElement("div",{className:"replay-controls-bar",style:{justifyContent:"center"}},i(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{setProperties:e}))))}}t.a=i,i.__docgenInfo={description:"",methods:[{name:"setProperties",docblock:null,modifiers:[],params:[{name:"props",type:{name:"PlaybackProps",alias:"PlaybackProps"}}],returns:null}],displayName:"ShowCase",props:{render:{required:!0,flowType:{name:"signature",type:"function",raw:"(VideoStreamState & { setProperties: PlaybackProps => void }) => React.Node",signature:{arguments:[{name:"",type:{name:"intersection",raw:"VideoStreamState & { setProperties: PlaybackProps => void }",elements:[{name:"VideoStreamState"},{name:"signature",type:"object",raw:"{ setProperties: PlaybackProps => void }",signature:{properties:[{key:"setProperties",value:{name:"signature",type:"function",raw:"PlaybackProps => void",signature:{arguments:[{name:"",type:{name:"PlaybackProps"}}],return:{name:"void"}},required:!0}}]}}]}}],return:{name:"ReactNode",raw:"React.Node"}}},description:""},height:{required:!1,flowType:{name:"string"},description:""}}}},"./src/replay/docs/mdx-helpers/SimpleTable.js":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s={padding:0,tableLayout:"auto",boxShadow:"0 0 0 1px #CED4DE",borderSpacing:0,borderColor:"gray",borderCollapse:"collapse",borderStyle:"hidden",borderRadius:"4px",overflowY:"hidden",fontSize:"14px",color:"#13161F",width:"100%",display:"table"},l={color:"#7D899C",background:"#EEF1F5",textAlign:"left",fontSize:"14px",borderSpacing:0,borderCollapse:"collapse"},c={orderSpacing:0,borderCollapse:"collapse"},p={padding:"20px",verticalAlign:"top"},m=r({},p,{fontStyle:"italic",opacity:.5}),d=r({},p,{fontFamily:'"Source Code Pro",monospace',whiteSpace:"nowrap"}),u=({rows:e})=>{const t=e?e.map(e=>Object.values(e).join("-")).join("-"):"";if(e&&e.length){const n=Object.keys(e[0]);return a.createElement("table",{style:s},a.createElement("thead",{style:l},a.createElement("tr",{style:c},n.map(e=>a.createElement("th",{key:"header-"+e,style:p},e)))),a.createElement("tbody",null,e.map((e,n)=>a.createElement("tr",{key:t+"-row-"+n,style:c},Object.values(e).map((e,o)=>{return a.createElement("td",{key:t+"-cell-"+n+"-"+o,style:(r=e,""===r?m:d)},(e=>""===e?"none":e)(e));var r})))))}};t.a=u,u.__docgenInfo={description:"",methods:[],displayName:"SimpleTable",props:{rows:{required:!1,flowType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ [string]: string }",signature:{properties:[{key:{name:"string"},value:{name:"string",required:!0}}]}}],raw:"Array<{ [string]: string }>"},description:""}}}},"./src/replay/docs/props-footnote.md":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("./node_modules/react/index.js"),o=n.n(a),r=n("./node_modules/@mdx-js/tag/dist/index.js");function i(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class s extends o.a.Component{constructor(e){super(e),this.layout=null}render(){const e=this.props,t=e.components;i(e,["components"]);return o.a.createElement(r.MDXTag,{name:"wrapper",components:t},o.a.createElement(r.MDXTag,{name:"p",components:t},"Props marked with \u21d8 are updated with the video streamer's ",o.a.createElement(r.MDXTag,{name:"a",components:t,parentName:"p",props:{href:"/reference/observable-stream-state"}},"state property")," having the same name, when connected by the ",o.a.createElement(r.MDXTag,{name:"a",components:t,parentName:"p",props:{href:"/architecture/connected-controls#connecting-the-controls"}},o.a.createElement(r.MDXTag,{name:"inlineCode",components:t,parentName:"a"},"connectControl()")," HOC"),". The \ufe0e",o.a.createElement(r.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"setProperties()")," callback prop is marked with \ufe0e\u21d7 because it is connected for changing the playback state. More info in the architecture description of ",o.a.createElement(r.MDXTag,{name:"a",components:t,parentName:"p",props:{href:"/architecture/overview#arrows-and-boxes"}},"two-way data flow"),"."))}}s.__docgenInfo={description:"",methods:[],displayName:"MDXContent"}}}]);
//# sourceMappingURL=components-controls-timeline-timeline.518f99f9b9150b00e2f5.js.map